<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:context="http://www.springframework.org/schema/context" xmlns="http://www.springframework.org/schema/beans"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd">

  <bean class="org.eclipse.jgit.transport.Daemon">
    <property name="repositoryResolver">
      <bean class="ch.bergturbenthal.raoa.server.AlbumRepositoryResolver" />
    </property>
  </bean>

  <bean class="ch.bergturbenthal.raoa.server.FileAlbumAccess" />
  <bean class="ch.bergturbenthal.raoa.server.state.StateManagerImpl" />
  <bean class="ch.bergturbenthal.raoa.server.util.RepositoryServiceImpl" />

  <bean id="executorService" class="java.util.concurrent.Executors"
    factory-method="newScheduledThreadPool">

    <constructor-arg value="20" />
  </bean>

  <bean name="album" class="ch.bergturbenthal.raoa.server.Album"
    scope="prototype" factory-method="createAlbum">
  </bean>
  <bean name="albumImage" class="ch.bergturbenthal.raoa.server.AlbumImage"
    scope="prototype" factory-method="createImage">
  </bean>
  <bean name="fileWatcher" class="ch.bergturbenthal.raoa.server.watcher.FileWatcher"
    scope="prototype" factory-method="createWatcher">
  </bean>

  <bean
    class="ch.bergturbenthal.raoa.server.thumbnails.FfmpegVideoThumbnailMaker">
  </bean>
  <bean
    class="ch.bergturbenthal.raoa.server.thumbnails.ImageMagickImageThumbnailMaker">
<!--     <property name="gmBinary" />  -->
<!--     <property name="imConvertBinary" value="/usr/local/bin/convert"/> -->
    <property name="thumbnailSize" value="1600" />
  </bean>
</beans>